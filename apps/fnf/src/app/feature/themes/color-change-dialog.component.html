<h2 mat-dialog-title>Color Transform</h2>

<mat-dialog-content>
  <div class="preview-row">
    <div>
      <div
          class="swatch"
          *ngFor="let c of originalColors"
          [style.background-color]="c"></div>
      <div class="label">Original ({{ originalColors.length }})</div>
      <div class="value">{{ originalColors.join(', ') }}</div>
    </div>
    <span class="arrow">â†’</span>
    <div>
      <div
          class="swatch"
          *ngFor="let c of workingColors"
          [style.background-color]="c"></div>
      <div class="label">Preview ({{ workingColors.length }})</div>
      <div class="value">{{ workingColors.join(', ') }}</div>
    </div>
  </div>

  <div class="section">
    <div class="row">
      <button
          mat-raised-button
          color="primary"
          (click)="applyInvert()">
        <mat-icon>invert_colors</mat-icon>
        Invert
      </button>
      <button
          mat-button
          (click)="onReset()">
        <mat-icon>restart_alt</mat-icon>
        Reset
      </button>
    </div>
  </div>

  <div class="section">
    <div class="label-slider">
      <mat-label>Brighter/Darker: {{ lightnessDelta }}%</mat-label>
      <mat-slider
          [min]="-100"
          [max]="100"
          [step]="1"
          [discrete]="true"
          [showTickMarks]="true">
        <input
            matSliderThumb
            [(ngModel)]="lightnessDelta"
            (ngModelChange)="recompute()"/>
      </mat-slider>
    </div>
  </div>

  <div class="section">
    <div class="label-slider">
      <mat-label>Transparency: {{ transparency }}%</mat-label>
      <mat-slider
          [min]="0"
          [max]="100"
          [step]="1"
          [discrete]="true"
          [showTickMarks]="true">
        <input
            matSliderThumb
            [(ngModel)]="transparency"
            (ngModelChange)="recompute()"/>
      </mat-slider>
    </div>
  </div>

  <div class="section">
    <div class="row">
      <mat-form-field appearance="outline">
        <mat-label>Merge color</mat-label>
        <input
            matInput
            [(ngModel)]="mergeColor"
            (ngModelChange)="recompute()"
            placeholder="#rrggbb or rgb() or hsl() or name"/>
      </mat-form-field>
      <input
          class="native-color"
          type="color"
          [(ngModel)]="mergeColor"
          (ngModelChange)="recompute()"/>
      <mat-form-field appearance="outline">
        <mat-label>Mode</mat-label>
        <mat-select
            [(ngModel)]="mergeMode"
            (ngModelChange)="recompute()">
          <mat-option value="alpha">alpha</mat-option>
          <mat-option value="additive">additive</mat-option>
          <mat-option value="average">average</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="label-slider">
      <mat-label>Ratio: {{ mergeRatio | number:'1.0-2' }}</mat-label>
      <mat-slider
          [min]="0"
          [max]="1"
          [step]="0.01">
        <input
            matSliderThumb
            [(ngModel)]="mergeRatio"
            (ngModelChange)="recompute()"/>
      </mat-slider>
    </div>
  </div>

  <div class="section">
    <div class="row">
      <mat-form-field appearance="outline">
        <mat-label>Blend color</mat-label>
        <input
            matInput
            [(ngModel)]="blendColor"
            (ngModelChange)="recompute()"
            placeholder="#rrggbb or rgb() or hsl() or name"/>
      </mat-form-field>
      <input
          class="native-color"
          type="color"
          [(ngModel)]="blendColor"
          (ngModelChange)="recompute()"/>
    </div>

    <div class="label-slider">
        <mat-label>Alpha: {{ blendAlpha | number:'1.0-2' }}</mat-label>
        <mat-slider
            [min]="0"
            [max]="1"
            [step]="0.01">
          <input
              matSliderThumb
              [(ngModel)]="blendAlpha"
              (ngModelChange)="recompute()"/>
        </mat-slider>
      </div>

  </div>

</mat-dialog-content>

