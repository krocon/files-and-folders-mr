services:
  fnf-instance-1:
    image: krocon/files-and-folders
    container_name: fnf-frontend
    labels:
      - net.unraid.docker.icon=http://192.168.178.62:3333/assets/logo/png/ff-green-512x512.png
      - net.unraid.docker.webui=http://192.168.178.62:3333/
      - net.unraid.docker.description=Files and Folders (Frontend and Backend 1)
    ports:
      - "3333:3333"
      - "3334:3334"
    volumes:
      - /mnt/user:/fnf/user
      - /mnt/remotes:/fnf/remotes
      - /mnt/disks:/fnf/disks
    environment:
      - FNF_INCOMPATIBLE_PATHS=
      - FNF_FRONTEND_HOST=http://192.168.178.62:3333
      - FNF_FRONTEND_PORT=3333
      - FNF_BACKEND_PORT=3333
      - FNF_WEBSOCKET_PORT=3334
      - FNF_CONTAINER_PATHS=/fnf/user,/fnf/remotes,/fnf/disks
      - FNF_START_PATH=/fnf/user
      - FNF_DOCKER_ROOT=/fnf
      - FNF_OPENAI_API_KEY=
      - FNF_OPENAI_API_URL='https://api.openai.com/v1/chat/completions'
      - FNF_OPENAI_MODEL='gpt-4'
      - FNF_LLAMA_API_KEY='your-llama-api-key-here'
      - FNF_LLAMA_API_URL='http://localhost:11434/api/generate'
      - FNF_LLAMA_MODEL='llama3'
      - FNF_AI_COMPLETION_SERVICE='openai'
      - NODE_ENV=production
    restart: unless-stopped

  fnf-instance-2:
    image: krocon/files-and-folders
    container_name: fnf-backend-2
    labels:
      - net.unraid.docker.icon=http://192.168.178.62:3333/assets/logo/png/ff-gray-512x512.png
      - net.unraid.docker.description=Files and Folders (Backend 2)
    ports:
      - "3335:3333"
      - "3336:3334"
    volumes:
      - /mnt/user:/fnf/user
      - /mnt/remotes:/fnf/remotes
      - /mnt/disks:/fnf/disks
    environment:
      - FNF_INCOMPATIBLE_PATHS=
      - FNF_FRONTEND_HOST=http://192.168.178.62:3333
      - FNF_FRONTEND_PORT=3333
      - FNF_BACKEND_PORT=3335
      - FNF_WEBSOCKET_PORT=3336
      - FNF_CONTAINER_PATHS=/fnf/user,/fnf/remotes,/fnf/disks
      - FNF_START_PATH=/fnf/user
      - FNF_DOCKER_ROOT=/fnf
      - FNF_OPENAI_API_KEY=
      - FNF_OPENAI_API_URL='https://api.openai.com/v1/chat/completions'
      - FNF_OPENAI_MODEL='gpt-4'
      - FNF_LLAMA_API_KEY='your-llama-api-key-here'
      - FNF_LLAMA_API_URL='http://localhost:11434/api/generate'
      - FNF_LLAMA_MODEL='llama3'
      - FNF_AI_COMPLETION_SERVICE='openai'
      - NODE_ENV=production
    restart: unless-stopped

  fnf-instance-3:
    image: krocon/files-and-folders
    container_name: fnf-backend-3
    labels:
      - net.unraid.docker.icon=http://192.168.178.62:3333/assets/logo/png/ff-gray-512x512.png
      - net.unraid.docker.description=Files and Folders (Backend 3)
    ports:
      - "3337:3333"
      - "3338:3334"
    volumes:
      - /mnt/user:/fnf/user
      - /mnt/remotes:/fnf/remotes
      - /mnt/disks:/fnf/disks
    environment:
      - FNF_INCOMPATIBLE_PATHS=
      - FNF_FRONTEND_HOST=http://192.168.178.62:3333
      - FNF_FRONTEND_PORT=3333
      - FNF_BACKEND_PORT=3337
      - FNF_WEBSOCKET_PORT=3338
      - FNF_CONTAINER_PATHS=/fnf/user,/fnf/remotes,/fnf/disks
      - FNF_START_PATH=/fnf/user
      - FNF_DOCKER_ROOT=/fnf
      - FNF_OPENAI_API_KEY=
      - FNF_OPENAI_API_URL='https://api.openai.com/v1/chat/completions'
      - FNF_OPENAI_MODEL='gpt-4'
      - FNF_LLAMA_API_KEY='your-llama-api-key-here'
      - FNF_LLAMA_API_URL='http://localhost:11434/api/generate'
      - FNF_LLAMA_MODEL='llama3'
      - FNF_AI_COMPLETION_SERVICE='openai'
      - NODE_ENV=production
    restart: unless-stopped